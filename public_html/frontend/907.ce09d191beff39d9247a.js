"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[907],{9907:(P,f,o)=>{o.r(f),o.d(f,{LayoutModule:()=>U});var h=o(4911),l=o(890),m=o(8583),r=o(4330),n=o(7716),C=o(9866);const a=function(){return["/profile"]},c=function(){return["router-link-active"]};let d=(()=>{class t{constructor(e){this.router=e,this.user={},this.router.events.subscribe(i=>{i instanceof r.m2&&window.innerWidth<=992&&this.is_toggled()&&this.toggle_sidebar()})}ngOnInit(){}is_toggled(){return document.querySelector("body").classList.contains("push-right")}toggle_sidebar(){document.querySelector("body").classList.toggle("push-right")}logout(){sessionStorage.clear(),this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-navbar"]],inputs:{user:"user"},decls:23,vars:5,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-dark",2,"height","55px"],["href","#",1,"navbar-brand"],[1,"m-2","fas","fa-truck","text-light"],[1,"text-light"],["type","button",1,"navbar-toggler",3,"click"],[1,"fa","fa-bars","text-muted"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],["ngbDropdown","",1,"nav-item","dropdown"],["href","javascript:void(0)","ngbDropdownToggle","",1,"nav-link","text-light"],[1,"m-2","fas","fa-user"],["ngbDropdownMenu","",1,"dropdown-menu-right"],[1,"dropdown-item",3,"routerLink","routerLinkActive"],[1,"fas","fa-user-alt"],[1,"dropdown-item",3,"click"],[1,"fa","fa-fw","fa-power-off"]],template:function(e,i){1&e&&(n.TgZ(0,"nav",0),n.TgZ(1,"a",1),n._UZ(2,"i",2),n._uU(3,"\xa0"),n.TgZ(4,"span",3),n._uU(5,"Gesti\xf3n de Flotas"),n.qZA(),n.qZA(),n.TgZ(6,"button",4),n.NdJ("click",function(){return i.toggle_sidebar()}),n._UZ(7,"i",5),n.qZA(),n.TgZ(8,"div",6),n.TgZ(9,"ul",7),n.TgZ(10,"li",8),n.TgZ(11,"a",9),n.TgZ(12,"span"),n._UZ(13,"i",10),n.TgZ(14,"small"),n._uU(15),n.qZA(),n.qZA(),n.qZA(),n.TgZ(16,"div",11),n.TgZ(17,"a",12),n._UZ(18,"i",13),n._uU(19," Perfil "),n.qZA(),n.TgZ(20,"a",14),n.NdJ("click",function(){return i.logout()}),n._UZ(21,"i",15),n._uU(22," Cerrar Sesi\xf3n "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(15),n.Oqu(i.user.fullname),n.xp6(2),n.Q6J("routerLink",n.DdM(3,a))("routerLinkActive",n.DdM(4,c)))},directives:[l.M2,l.jt,l.iD,l.Vi,r.yS,r.Od],styles:[""]}),t})();const g=function(t){return[t]},u=function(){return["router-link-active"]};function O(t,s){if(1&t&&(n.TgZ(0,"a",8),n._UZ(1,"i",13),n._uU(2,"\xa0\xa0\xa0"),n._UZ(3,"small",14),n.qZA()),2&t){const e=n.oxw().$implicit;n.Tol(e.class),n.Q6J("routerLink",n.VKq(7,g,e.link))("routerLinkActive",n.DdM(9,u)),n.xp6(1),n.Tol(e.icon),n.xp6(2),n.Q6J("innerHtml",e.text,n.oJD)}}function v(t,s){if(1&t&&(n.TgZ(0,"span"),n.YNc(1,O,4,10,"a",12),n.qZA()),2&t){const e=s.$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("ngIf",i.aviable(e.rols_able))}}function b(t,s){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,v,2,1,"span",2),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngForOf",e.items)}}function Z(t,s){if(1&t){const e=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){n.CHM(e);const p=n.oxw(2).$implicit;return n.oxw().addExpandClass(p.expand_class)}),n.TgZ(1,"span"),n._UZ(2,"i",13),n._uU(3,"\xa0\xa0\xa0"),n._UZ(4,"small",14),n.qZA(),n.qZA()}if(2&t){const e=n.oxw(2).$implicit;n.xp6(2),n.Tol(e.icon),n.xp6(2),n.Q6J("innerHtml",e.text,n.oJD)}}function x(t,s){if(1&t&&(n.TgZ(0,"a",8),n._UZ(1,"i",13),n._uU(2,"\xa0\xa0\xa0"),n._UZ(3,"small",14),n.qZA()),2&t){const e=n.oxw().$implicit;n.Tol(e.class),n.Q6J("routerLink",n.VKq(7,g,e.link))("routerLinkActive",n.DdM(9,u)),n.xp6(1),n.Tol(e.icon),n.xp6(2),n.Q6J("innerHtml",e.text,n.oJD)}}function A(t,s){if(1&t&&(n.TgZ(0,"li"),n.YNc(1,x,4,10,"a",12),n.qZA()),2&t){const e=s.$implicit,i=n.oxw(3);n.xp6(1),n.Q6J("ngIf",i.aviable(e.rols_able))}}function T(t,s){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,Z,5,3,"a",15),n.TgZ(2,"li",6),n.TgZ(3,"ul",7),n.YNc(4,A,2,1,"li",2),n.qZA(),n.qZA(),n.qZA()),2&t){const e=n.oxw().$implicit,i=n.oxw();n.Tol(e.class),n.xp6(1),n.Q6J("ngIf",i.aviable(e.rols_able)),n.xp6(1),n.ekj("expand",i.showMenu==e.expand_class),n.xp6(2),n.Q6J("ngForOf",e.items)}}function y(t,s){if(1&t&&(n.TgZ(0,"div"),n.YNc(1,b,2,1,"div",10),n.YNc(2,T,5,6,"div",11),n.qZA()),2&t){const e=s.$implicit;n.xp6(1),n.Q6J("ngIf",""==e.class),n.xp6(1),n.Q6J("ngIf","nested-menu"==e.class)}}const S=function(){return["/profile"]};let _=(()=>{class t{constructor(e){this.router=e,this.user={},this.menu=[],this.showMenu="0",this.router.events.subscribe(i=>{i instanceof r.m2&&window.innerWidth<=992&&this.is_toggled()&&this.toggle_sidebar()})}ngOnInit(){}is_toggled(){return document.querySelector("body").classList.contains("push-right")}toggle_sidebar(){document.querySelector("body").classList.toggle("push-right")}logout(){sessionStorage.clear(),this.router.navigate(["/login"])}addExpandClass(e){this.showMenu=e==this.showMenu?"0":e}aviable(e){let i=[];if(void 0!==this.user.rols&&(i=this.user.rols),0==e.length)return!0;let p=!1;return e.forEach(M=>{i.forEach(N=>{M==N&&(p=!0)})}),p}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-sidebar"]],inputs:{user:"user",menu:"menu"},decls:19,vars:8,consts:[[1,"sidebar","bg-dark"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"nested-menu"],[1,"list-group-item",3,"click"],[1,"fas","fa-user",2,"width","25px"],[1,"nested"],[1,"submenu"],[3,"routerLink","routerLinkActive"],[3,"click"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"routerLink","routerLinkActive","class",4,"ngIf"],[2,"width","25px"],[3,"innerHtml"],["class","list-group-item",3,"click",4,"ngIf"]],template:function(e,i){1&e&&(n.TgZ(0,"nav",0),n.TgZ(1,"div",1),n.YNc(2,y,3,2,"div",2),n.TgZ(3,"div"),n.TgZ(4,"div",3),n.TgZ(5,"a",4),n.NdJ("click",function(){return i.addExpandClass("profile")}),n.TgZ(6,"span"),n._UZ(7,"i",5),n._uU(8,"\xa0\xa0\xa0"),n.TgZ(9,"small"),n._uU(10),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"li",6),n.TgZ(12,"ul",7),n.TgZ(13,"li"),n.TgZ(14,"a",8),n._uU(15," Perfil "),n.qZA(),n.qZA(),n.TgZ(16,"li"),n.TgZ(17,"a",9),n.NdJ("click",function(){return i.logout()}),n._uU(18," Cerrar Sesi\xf3n "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngForOf",i.menu),n.xp6(8),n.Oqu(i.user.fullname),n.xp6(1),n.ekj("expand","profile"==i.showMenu),n.xp6(3),n.Q6J("routerLink",n.DdM(6,S))("routerLinkActive",n.DdM(7,u)))},directives:[m.sg,r.yS,r.Od,m.O5],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:55px;left:300px;margin-left:-300px;width:300px;z-index:1000;bottom:0px;overflow-y:auto;overflow-x:none;transition:all .2s ease-in-out}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]{background:#343a40;border:0;border-radius:0;color:#999;text-decoration:none}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.list-group-item[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{margin-right:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#292d32;color:#fff}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{background:#292d32;color:#fff}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%]{padding-top:10px}.sidebar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   .header-fields[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-top:1px solid rgba(255,255,255,.2)}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:focus{border-radius:none;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1rem;height:50px;margin-bottom:0}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999;text-decoration:none;font-weight:400;background:#343a40}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:block;padding:1rem 1.5rem .75rem}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff;outline:none;outline-offset:-2px}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]:hover{background:#292d32}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]{border-radius:0;border:none}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-radius:0;background-color:#343a40;border:0 solid transparent}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#999}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.sidebar[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .panel-collapse[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{background:#292d32}.nested-menu[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{cursor:pointer}.nested-menu[_ngcontent-%COMP%]   .nested[_ngcontent-%COMP%]{list-style-type:none}.nested-menu[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{display:none;height:0}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]{display:block;list-style-type:none;height:auto}.nested-menu[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   ul.submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;padding:10px;display:block}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 0px white;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:3px;-webkit-box-shadow:inset 0 0 3px white}@media screen and (max-width: 992px){.sidebar[_ngcontent-%COMP%]{left:0px}}@media print{.sidebar[_ngcontent-%COMP%]{display:none}}"]}),t})();const L=[{path:"",component:(()=>{class t{constructor(e,i){this.catalogDataService=e,this.spinner=i,this.user={},this.side_menu=[]}ngOnInit(){this.user=JSON.parse(sessionStorage.getItem("user")),this.build_menu()}build_menu(){this.side_menu=[],this.spinner.show(),this.catalogDataService.get_items("config","side-menu").then(e=>{this.spinner.hide(),this.side_menu=e[0].side_menu}).catch(e=>{console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(h.a),n.Y36(C.t2))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-layout"]],decls:4,vars:3,consts:[[3,"user"],[3,"user","menu"],[1,"main_container"]],template:function(e,i){1&e&&(n._UZ(0,"app-navbar",0),n._UZ(1,"app-sidebar",1),n.TgZ(2,"section",2),n._UZ(3,"router-outlet"),n.qZA()),2&e&&(n.Q6J("user",i.user),n.xp6(1),n.Q6J("user",i.user)("menu",i.side_menu))},directives:[d,_,r.lC],styles:["*[_ngcontent-%COMP%]{transition:margin-left .2s ease-in-out}.main_container[_ngcontent-%COMP%]{position:relative;margin-top:55px;margin-left:300px;overflow-x:hidden;overflow-y:auto}@media screen and (max-width: 992px){.main_container[_ngcontent-%COMP%]{margin-left:0}}@media print{.main_container[_ngcontent-%COMP%]{margin-left:0;margin-top:0}}"]}),t})(),children:[{path:"dashboard",loadChildren:()=>o.e(457).then(o.bind(o,9457)).then(t=>t.DashboardPageModule)},{path:"profile",loadChildren:()=>Promise.all([o.e(259),o.e(592),o.e(171)]).then(o.bind(o,2171)).then(t=>t.ProfilePageModule)},{path:"flota",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(405)]).then(o.bind(o,9405)).then(t=>t.FlotaPageModule)},{path:"operadores",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(491)]).then(o.bind(o,6491)).then(t=>t.OperadoresPageModule)},{path:"proveedores",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(815)]).then(o.bind(o,3815)).then(t=>t.ProveedoresPageModule)},{path:"mantenimientos",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(164)]).then(o.bind(o,5164)).then(t=>t.MantenimientosPageModule)},{path:"catalogo-servicios",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(454)]).then(o.bind(o,2454)).then(t=>t.CatalogoServiciosPageModule)},{path:"poliza-seguros",loadChildren:()=>Promise.all([o.e(259),o.e(768),o.e(507)]).then(o.bind(o,9507)).then(t=>t.PolizaSegurosPageModule)},{path:"admin-accounts",loadChildren:()=>o.e(759).then(o.bind(o,9759)).then(t=>t.AdminUsersPageModule)},{path:"admin-roles",loadChildren:()=>o.e(340).then(o.bind(o,6340)).then(t=>t.AdminRolsPageModule)},{path:"not-found",loadChildren:()=>o.e(512).then(o.bind(o,2512)).then(t=>t.NotFoundPageModule)},{path:"**",redirectTo:"not-found"}]}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[r.Bz.forChild(L)],r.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[h.a],imports:[[l.IJ,m.ez,J]]}),t})()},4911:(P,f,o)=>{o.d(f,{a:()=>r});var h=o(1841),l=o(2340),m=o(7716);let r=(()=>{class n{constructor(a){this.http=a,this.options={}}build_headers(){let a=(new h.WM).set("token",sessionStorage.getItem("token"));this.options={headers:a}}upload_items(a,c,d){return this.build_headers(),this.http.post(l.N.api+c+"/"+d+"/upload_items",JSON.stringify({items:a}),this.options).toPromise()}get_items(a,c,d,g){this.build_headers();let u={};return void 0!==d&&(u.output_model=d),void 0!==g&&(u.filter=g),this.http.post(l.N.api+a+"/"+c+"/get_items",JSON.stringify(u),this.options).toPromise()}update_item(a,c,d,g){return this.build_headers(),this.http.put(l.N.api+d+"/"+g+"/update_item",JSON.stringify({item_id:a,item:c}),this.options).toPromise()}delete_item(a,c,d){return this.build_headers(),this.http.delete(l.N.api+c+"/"+d+"/delete_item?item_id="+a,this.options).toPromise()}}return n.\u0275fac=function(a){return new(a||n)(m.LFG(h.eN))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);