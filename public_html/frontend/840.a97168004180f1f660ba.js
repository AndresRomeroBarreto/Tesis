"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[840],{6840:(F,h,s)=>{s.r(h),s.d(h,{LoginPageModule:()=>k});var u=s(2290),c=s(7556),p=s(8583),_=s(2340),e=s(7716),g=s(9866),f=s(8259),d=s.n(f),m=s(4330),l=s(665);let Z=(()=>{class o{constructor(t,n,r){this.authDataService=t,this.spinner=n,this.router=r,this.opcion=new e.vpe,this.email="",this.password=""}ngOnInit(){sessionStorage.clear()}change_page(t){this.opcion.emit(t)}show_alert(t,n,r){return d().fire({title:t,html:n,icon:r})}login(){this.spinner.show(),this.authDataService.login(this.email,this.password).then(t=>{this.spinner.hide(),sessionStorage.setItem("token",t.token),sessionStorage.setItem("user",JSON.stringify(t.user_data)),this.router.navigate(["/dashboard"])}).catch(t=>{this.spinner.hide(),console.log(t),this.show_alert("Autenticaci\xf3n",t.error,"error").then(n=>{this.email="",this.password=""})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.e),e.Y36(g.t2),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-auth"]],outputs:{opcion:"opcion"},decls:21,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese el Correo Electr\xf3nico",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Ingrese su Contrase\xf1a",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-12","text-center"],["role","group",1,"btn-group","m-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-warning","btn-sm",3,"click"],["type","button",1,"ml-2","btn","btn-success","btn-sm",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(a){return n.email=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",0),e.TgZ(7,"div",1),e.TgZ(8,"div",2),e.TgZ(9,"label",5),e._uU(10,"Contrase\xf1a"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(a){return n.password=a})("keyup.enter",function(){return n.login()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",0),e.TgZ(13,"div",7),e.TgZ(14,"div",8),e.TgZ(15,"button",9),e.NdJ("click",function(){return n.login()}),e._uU(16,"Iniciar Sesi\xf3n"),e.qZA(),e.TgZ(17,"button",10),e.NdJ("click",function(){return n.change_page("Recuperar Contrase\xf1a")}),e._uU(18,"Recuperar Contrase\xf1a"),e.qZA(),e.TgZ(19,"button",11),e.NdJ("click",function(){return n.change_page("Crear Cuenta")}),e._uU(20,"Crear Cuenta"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.email),e.xp6(6),e.Q6J("ngModel",n.password))},directives:[l.Fj,l.JJ,l.On],styles:[""]}),o})();function C(o,i){1&o&&(e.TgZ(0,"span",12),e._uU(1,"Incorrecto"),e.qZA())}function v(o,i){1&o&&(e.TgZ(0,"span",12),e._uU(1,"Incorrecto"),e.qZA())}let T=(()=>{class o{constructor(t,n,r){this.authDataService=t,this.spinner=n,this.toastr=r,this.opcion=new e.vpe,this.user={fullname:"",email:""},this.errores=[],this.email_validated=!1}ngOnInit(){sessionStorage.clear()}change_page(t){this.opcion.emit(t)}validate_email(){if(this.errores=[],this.email_validated=!1,""==this.user.email)return this.errores.push({title:"Correo Electr\xf3nico Incorrecto",message:"Debe ingresar el Correo Electr\xf3nico"}),this.email_validated=!1,!1;const t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.user.email.toString());return t||this.errores.push({title:"Correo Electr\xf3nico Incorrecto",message:"El Correo Electr\xf3nico no se encuentra escrito correctamente"}),this.email_validated=t,t}show_alert(t,n,r){return d().fire({title:t,html:n,icon:r})}register(){this.validate_email(),""==this.user.fullname&&this.errores.push({title:"Nombre Completo Incorrecto",message:"Debe ingresar el Nombre Completo"}),this.errores.length>0?this.errores.forEach(t=>{this.toastr.error(t.message,t.title)}):(this.spinner.show(),this.authDataService.register(this.user).then(t=>{this.spinner.hide(),this.show_alert("Crear Cuenta",t,"info").then(n=>{this.change_page("Autenticaci\xf3n")})}).catch(t=>{this.spinner.hide(),this.show_alert("Crear Cuenta",t.error,"error").then(n=>{this.user={fullname:"",email:""},this.email_validated=!1})}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.e),e.Y36(g.t2),e.Y36(u._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register"]],outputs:{opcion:"opcion"},decls:21,vars:4,consts:[[1,"row"],[1,"col-12"],[1,"mb-3"],["for","email",1,"form-label"],["class","ml-2 badge badge-danger",4,"ngIf"],["type","email","id","email","placeholder","Ingrese el Correo Electr\xf3nico",1,"form-control",3,"ngModel","ngModelChange","input"],["for","fullname",1,"form-label"],["type","text","id","fullname","placeholder","Ingrese su Nombre Completo",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","text-center"],["role","group",1,"btn-group","m-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"ml-2","btn","btn-danger","btn-sm",3,"click"],[1,"ml-2","badge","badge-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Correo Electr\xf3nico"),e.qZA(),e.YNc(5,C,2,0,"span",4),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(a){return n.user.email=a})("input",function(){return n.validate_email()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",0),e.TgZ(8,"div",1),e.TgZ(9,"div",2),e.TgZ(10,"label",6),e._uU(11,"Nombre Completo"),e.qZA(),e.YNc(12,v,2,0,"span",4),e.TgZ(13,"input",7),e.NdJ("ngModelChange",function(a){return n.user.fullname=a}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",0),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e.TgZ(17,"button",10),e.NdJ("click",function(){return n.register()}),e._uU(18,"Crear Cuenta"),e.qZA(),e.TgZ(19,"button",11),e.NdJ("click",function(){return n.change_page("Autenticaci\xf3n")}),e._uU(20,"Cancelar"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!n.email_validated),e.xp6(1),e.Q6J("ngModel",n.user.email),e.xp6(6),e.Q6J("ngIf",""==n.user.fullname),e.xp6(1),e.Q6J("ngModel",n.user.fullname))},directives:[p.O5,l.Fj,l.JJ,l.On],styles:[""]}),o})();function b(o,i){1&o&&(e.TgZ(0,"span",10),e._uU(1,"Incorrecto"),e.qZA())}let A=(()=>{class o{constructor(t,n,r){this.authDataService=t,this.spinner=n,this.toastr=r,this.opcion=new e.vpe,this.email="",this.errores=[],this.email_validated=!1}ngOnInit(){sessionStorage.clear()}change_page(t){this.opcion.emit(t)}validate_email(){if(this.errores=[],this.email_validated=!1,""==this.email)return this.errores.push({title:"Correo Electr\xf3nico Incorrecto",message:"Debe ingresar el Correo Electr\xf3nico"}),this.email_validated=!1,!1;const t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.email.toString());return t||this.errores.push({title:"Correo Electr\xf3nico Incorrecto",message:"El Correo Electr\xf3nico no se encuentra escrito correctamente"}),this.email_validated=t,t}show_alert(t,n,r){return d().fire({title:t,html:n,icon:r})}password_recovery(){this.validate_email(),this.errores.length>0?this.errores.forEach(t=>{this.toastr.error(t.message,t.title)}):(this.spinner.show(),this.authDataService.password_recovery(this.email).then(t=>{this.spinner.hide(),this.show_alert("Recuperar Contrase\xf1a",t,"info").then(n=>{this.change_page("Autenticaci\xf3n")})}).catch(t=>{this.spinner.hide(),this.show_alert("Recuperar Contrase\xf1a",t.error,"error").then(n=>{this.email="",this.email_validated=!1})}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.e),e.Y36(g.t2),e.Y36(u._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-password-recovery"]],outputs:{opcion:"opcion"},decls:14,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"mb-3"],["for","email",1,"form-label"],["class","ml-2 badge badge-danger",4,"ngIf"],["type","email","id","email","placeholder","Ingrese el Correo Electr\xf3nico",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"col-12","text-center"],["role","group",1,"btn-group","m-2"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button",1,"ml-2","btn","btn-danger","btn-sm",3,"click"],[1,"ml-2","badge","badge-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"label",3),e._uU(4,"Correo Electr\xf3nico"),e.qZA(),e.YNc(5,b,2,0,"span",4),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(a){return n.email=a})("input",function(){return n.validate_email()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",0),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"button",8),e.NdJ("click",function(){return n.password_recovery()}),e._uU(11,"Recuperar Contrase\xf1a"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return n.change_page("Autenticaci\xf3n")}),e._uU(13,"Cancelar"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",!n.email_validated),e.xp6(1),e.Q6J("ngModel",n.email))},directives:[p.O5,l.Fj,l.JJ,l.On],styles:[""]}),o})();function w(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-auth",15),e.NdJ("opcion",function(r){return e.CHM(t),e.oxw().opcion_seleccionada=r}),e.qZA()}}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-register",15),e.NdJ("opcion",function(r){return e.CHM(t),e.oxw().opcion_seleccionada=r}),e.qZA()}}function q(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-password-recovery",15),e.NdJ("opcion",function(r){return e.CHM(t),e.oxw().opcion_seleccionada=r}),e.qZA()}}const M=[{path:"",component:(()=>{class o{constructor(t){this.spinner=t,this.opcion_seleccionada="Autenticaci\xf3n",this.ws_assets=_.N.ws_assets+"login/",this.ayuda_url=_.N.ayuda_url}ngOnInit(){sessionStorage.clear(),this.spinner.hide()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.t2))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login-page"]],decls:26,vars:9,consts:[[1,"wallpaper"],[1,"row"],[1,"col-6"],[1,"m-2","fas","fa-truck","fa-2x","text-dark"],[1,"text-dark"],[1,"col-6","text-right"],["role","group",1,"btn-group","m-2"],["type","button","target","_blank",1,"btn","btn-light","btn-sm",3,"href"],["target","_blank",1,"btn","btn-light","btn-sm",3,"href"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-4","col-xl-4","col-xxl-4"],[1,"login"],[1,"col-12","mt-5","mb-2"],[3,"opcion",4,"ngIf"],[1,"footer"],[1,"col-12","text-light","text-center","mb-2"],[3,"opcion"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"strong",4),e.TgZ(5,"i"),e._uU(6,"Gesti\xf3n de Flotas"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"a",7),e._uU(10,"Ayuda"),e.qZA(),e.TgZ(11,"a",8),e._uU(12,"Manual"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"div",9),e.TgZ(15,"div",10),e.TgZ(16,"div",1),e.TgZ(17,"h1",11),e._uU(18),e.qZA(),e.qZA(),e.YNc(19,w,1,0,"app-auth",12),e.YNc(20,y,1,0,"app-register",12),e.YNc(21,q,1,0,"app-password-recovery",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",13),e.TgZ(23,"div",1),e.TgZ(24,"div",14),e._uU(25," @Copyright - Todos los derechos reservados "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Jzz("background-image: url('",n.ws_assets,"wallpaper.jpg');"),e.xp6(9),e.Q6J("href",n.ayuda_url,e.LSH),e.xp6(2),e.Q6J("href",n.ws_assets+"manual.pdf",e.LSH),e.xp6(7),e.Oqu(n.opcion_seleccionada),e.xp6(1),e.Q6J("ngIf","Autenticaci\xf3n"==n.opcion_seleccionada),e.xp6(1),e.Q6J("ngIf","Crear Cuenta"==n.opcion_seleccionada),e.xp6(1),e.Q6J("ngIf","Recuperar Contrase\xf1a"==n.opcion_seleccionada))},directives:[p.O5,Z,T,A],styles:[".wallpaper[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;position:fixed;top:0;left:0;right:0;bottom:0}.login[_ngcontent-%COMP%]{margin:100px auto auto;padding:10px 20px;width:90%;background-color:#ffffffe6;box-shadow:0 0 20px -2px #00000080;border-radius:10px}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0}"]}),o})()}];let J=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(M)],m.Bz]}),o})(),k=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[c.e],imports:[[p.ez,J,l.u5,u.Rh]]}),o})()}}]);