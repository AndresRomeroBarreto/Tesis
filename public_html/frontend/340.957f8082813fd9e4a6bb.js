"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[340],{6340:(w,d,s)=>{s.r(d),s.d(d,{AdminRolsPageModule:()=>P});var _=s(4911),a=s(8583),t=s(7716),p=s(9866),m=s(2290),c=s(665);function u(e,i){1&e&&t._UZ(0,"span",22)}function h(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.nombre)}}function f(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"input",23),t.NdJ("ngModelChange",function(l){return t.CHM(n),t.oxw().$implicit.nombre=l}),t.qZA()}if(2&e){const n=t.oxw().$implicit;t.Q6J("ngModel",n.nombre)}}function Z(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).edit_rol()}),t._UZ(1,"i",25),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("disabled",n.editing)}}function A(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).edit_rol()}),t._UZ(1,"i",27),t.qZA()}}function b(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit;return t.oxw().update_rol(l)}),t._UZ(1,"i",9),t.qZA()}}function x(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",13),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().select_rol(r)}),t.TgZ(1,"td",14),t.YNc(2,u,1,0,"span",15),t.qZA(),t.TgZ(3,"td"),t.YNc(4,h,2,1,"span",16),t.YNc(5,f,1,1,"input",17),t.qZA(),t.TgZ(6,"td"),t.TgZ(7,"div",7),t.YNc(8,Z,2,1,"button",18),t.YNc(9,A,2,0,"button",19),t.YNc(10,b,2,0,"button",20),t.TgZ(11,"button",21),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().delete_rol(r)}),t._UZ(12,"i",11),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=i.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.rol_selected==n),t.xp6(2),t.Q6J("ngIf",o.rol_selected!==n||o.rol_selected==n&&!o.editing),t.xp6(1),t.Q6J("ngIf",o.rol_selected==n&&o.editing),t.xp6(3),t.Q6J("ngIf",o.rol_selected==n&&!o.editing),t.xp6(1),t.Q6J("ngIf",o.rol_selected==n&&o.editing),t.xp6(1),t.Q6J("ngIf",o.rol_selected==n&&o.editing),t.xp6(1),t.Q6J("disabled",o.rol_selected==n&&o.editing)}}let C=(()=>{class e{constructor(n,o,l){this.spinner=n,this.toastr=o,this.catalogDataService=l,this.new_rol={nombre:""},this.rol_selected={},this.editing=!1,this.rols=[]}ngOnInit(){this.refresh()}refresh(){this.new_rol.nombre="",this.editing=!1,this.get_rols()}select_rol(n){this.rol_selected=n}get_rols(){this.rols=[],this.spinner.show(),this.catalogDataService.get_items("config","rols").then(n=>{this.spinner.hide(),this.rols=n}).catch(n=>{this.spinner.hide(),console.log(n)})}save_new_rol(){this.spinner.show(),this.catalogDataService.upload_items([this.new_rol],"config","rols").then(n=>{this.spinner.hide(),this.toastr.success("Rol Guardado Correctamente","Guardar Rol"),this.refresh()}).catch(n=>{this.spinner.hide(),console.log(n)})}delete_rol(n){this.spinner.show(),this.catalogDataService.delete_item(n.item_id,"config","rols").then(o=>{this.spinner.hide(),this.toastr.success("Rol Eliminado Correctamente","Eliminar Rol"),this.refresh()}).catch(o=>{this.spinner.hide(),console.log(o)})}update_rol(n){this.spinner.show(),this.catalogDataService.update_item(n.item_id,n,"config","rols").then(o=>{this.spinner.hide(),this.toastr.success("Rol Actualizado Correctamente","Actualizar Rol"),this.refresh()}).catch(o=>{this.spinner.hide(),console.log(o)})}edit_rol(){this.editing=!this.editing,this.editing||this.refresh()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.t2),t.Y36(m._W),t.Y36(_.a))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-rols-page"]],decls:26,vars:2,consts:[[1,"row","p-2"],[1,"col-12","text-right"],[1,"col-12",2,"overflow-x","auto"],[1,"table","table-hover","mt-2",2,"min-width","800px"],[1,"col-3"],[1,"col-6"],["type","text","id","new_rol_name",1,"form-control",3,"ngModel","ngModelChange"],["role","group",1,"btn-group"],["type","button","title","Guardar",1,"btn","btn-success",3,"click"],[1,"fas","fa-save"],["type","button","title","Cancelar",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash-alt"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"text-right"],["class","far fa-hand-point-right",4,"ngIf"],[4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","class","btn btn-warning","title","Editar",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-danger","title","Cancelar Edici\xf3n",3,"click",4,"ngIf"],["type","button","class","btn btn-success","title","Guardar",3,"click",4,"ngIf"],["type","button","title","Eliminar",1,"btn","btn-danger",3,"disabled","click"],[1,"far","fa-hand-point-right"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button","title","Editar",1,"btn","btn-warning",3,"disabled","click"],[1,"fas","fa-edit"],["type","button","title","Cancelar Edici\xf3n",1,"btn","btn-danger",3,"click"],[1,"fas","fa-history"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h1",1),t._uU(2," Administraci\xf3n de Roles del Sistema "),t.qZA(),t.qZA(),t.TgZ(3,"div",0),t.TgZ(4,"div",2),t.TgZ(5,"table",3),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th",4),t._uU(9,"Seleccionado"),t.qZA(),t.TgZ(10,"th",5),t._uU(11,"Rol"),t.qZA(),t.TgZ(12,"th",4),t._uU(13,"Opciones"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.TgZ(15,"tr"),t._UZ(16,"td"),t.TgZ(17,"td"),t.TgZ(18,"input",6),t.NdJ("ngModelChange",function(r){return o.new_rol.nombre=r}),t.qZA(),t.qZA(),t.TgZ(19,"td"),t.TgZ(20,"div",7),t.TgZ(21,"button",8),t.NdJ("click",function(){return o.save_new_rol()}),t._UZ(22,"i",9),t.qZA(),t.TgZ(23,"button",10),t.NdJ("click",function(){return o.refresh()}),t._UZ(24,"i",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(25,x,13,7,"tr",12),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(18),t.Q6J("ngModel",o.new_rol.nombre),t.xp6(7),t.Q6J("ngForOf",o.rols))},directives:[c.Fj,c.JJ,c.On,a.sg,a.O5],styles:[""]}),e})();var g=s(4330);const T=[{path:"",component:C}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(T)],g.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[_.a],imports:[[a.ez,R,c.u5]]}),e})()}}]);